{% extends "base.html" %} 
{% load static %}

{% block title %} Lepos London | Order {% endblock title %}
{% block css %}
<style>
.nothing {
    padding-top: 1%;
    display: block;
    text-align: center;
}

.nothing > a {
    color: #f2ba59;
}
</style>
{% endblock css %}

{% block body %}
    <!-- Breadcrumb Area -->
    <div class="tm-breadcrumb-area tm-padding-section bg-grey" data-bgimage={% static 'images/breadcrumb-bg.jpg' %}>
        <div class="container">
            <div class="tm-breadcrumb">
                <h2>Order</h2>
                <ul>
                    <li><a href={% url 'index' %}>Home</a></li>
                    <li><a href={% url 'products' %}>Shop</a></li>
                    <li>Order</li>
                </ul>
            </div>
        </div>
    </div>
    <!--// Breadcrumb Area -->

    {% if grand_total %}

        <!-- Page Content -->
        <main class="page-content">

            <!-- Checkout Area -->
            <div class="tm-section tm-checkout-area bg-white tm-padding-section">
                <div class="container">
                    {% comment %} <div class="tm-checkout-coupon">
                        <a href="#checkout-couponform" data-toggle="collapse"><span>Have a coupon code?</span> Click
                            here and enter your code.</a>
                        <div id="checkout-couponform" class="collapse">
                            <form action="#" class="tm-checkout-couponform">
                                <input type="text" id="coupon-field" placeholder="Enter coupon code"
                                    required="required">
                                <button type="submit" class="tm-button">Submit</button>
                            </form>
                        </div>
                    </div> {% endcomment %}
                    <form action="" class="tm-form tm-checkout-form" method="post">{% csrf_token %}
                        <div class="row">
                            <div class="col-lg-6">
                                <h4 class="small-title">BILLING INFORMATION</h4>

                                <!-- Billing Form -->
                                <div class="tm-checkout-billingform">
                                    <div class="tm-form-inner">
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-firstname">First name</label>
                                            <input type="text" name="first_name" id="billingform-firstname" value="{{user_data.first_name}}">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-lastname">Last name</label>
                                            <input type="text" name="last_name" id="billingform-lastname" value="{{user_data.last_name}}">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="billingform-email">Email address</label>
                                            <input type="email" name="email" id="billingform-email" value="{{user_data.email}}">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="billingform-phone">Phone</label>
                                            <input type="text" name="contact_number" id="billingform-phone" value="{{user_data.contact_number}}" required>
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="billingform-address">Address</label>
                                            <input type="text" name="address" id="billingform-address" value="{{add_data.address}}">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-city">City</label>
                                            <input type="text" name="city" id="billingform-city" value="{{add_data.city}}">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-zipcode">Zip / Postcode</label>
                                            <input type="text" name="pincode" id="billingform-zipcode" value="{{add_data.pincode}}">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-streetaddress">State</label>
                                            <input type="text" name="state" id="billingform-streetaddress" value="{{add_data.state}}">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="billingform-country">Country</label>
                                            <input type="text" name="country" id="billingform-country" value="{{add_data.country}}">
                                        </div>
                                        {% comment %} <div class="tm-form-field">
                                            <input type="checkbox" name="billform-dirrentswitch"
                                                id="billform-dirrentswitch">
                                            <label for="billform-dirrentswitch"><b>Ship to another address</b></label>
                                        </div> {% endcomment %}
                                    </div>
                                </div>
                                <!--// Billing Form -->

                                <!-- Different Address Form -->
                                <div class="tm-checkout-differentform">
                                    <div class="tm-form-inner">
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="differentform-firstname">First name*</label>
                                            <input type="text" id="differentform-firstname">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="differentform-lastname">Last name*</label>
                                            <input type="text" id="differentform-lastname">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="differentform-companyname">Company name</label>
                                            <input type="text" id="differentform-companyname">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="differentform-email">Email address</label>
                                            <input type="email" id="differentform-email">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="differentform-phone">Phone (Optional)</label>
                                            <input type="text" id="differentform-phone">
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="differentform-country">Country</label>
                                            <select name="differentform-country" id="differentform-country">
                                                <option value="bangladesh">United States</option>
                                                <option value="bangladesh">Mexico</option>
                                                <option value="bangladesh">Australia</option>
                                                <option value="bangladesh">Germany</option>
                                                <option value="bangladesh">Sweden</option>
                                                <option value="bangladesh">France</option>
                                            </select>
                                        </div>
                                        <div class="tm-form-field">
                                            <label for="differentform-address">Address</label>
                                            <input type="text" id="differentform-address"
                                                placeholder="Apartment, Street Address">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="differentform-streetaddress">State</label>
                                            <input type="text" id="differentform-streetaddress">
                                        </div>
                                        <div class="tm-form-field tm-form-fieldhalf">
                                            <label for="differentform-zipcode">Zip / Postcode</label>
                                            <input type="text" id="differentform-zipcode">
                                        </div>
                                    </div>
                                </div>
                                <!--// Different Address Form -->

                            </div>
                            <div class="col-lg-6">
                                <div class="tm-checkout-orderinfo">
                                    <div class="table-responsive">
                                        <table class="table table-borderless tm-checkout-ordertable">
                                            <thead>
                                                <tr>
                                                    <th>Product</th>
                                                    <th>Total</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for row in cartitem_data %}
                                                    <input type="hidden" id="ids" name="ids[]" value="{{row.product.id}}">
                                                    <input type="hidden" id="qty" name="qty[]" value="{{row.quantity}}">
                                                    <input type="hidden" id="unite_price" name="unit_price[]" value="{{row.quantity}}">

                                                    <tr>
                                                        <td>{{row.product}} * {{row.quantity}}</td>
                                                        <td>&#x20b9;{{row.unit_price}}</td>
                                                    </tr>
                                                {% endfor %}
                                            </tbody>
                                            <tfoot>
                                                <input type="hidden" name="total_price" value="{{grand_total}}">
                                                <input type="hidden" name="sub_total" value="{{total}}">
                                                <input type="hidden" name="order_id" value="{{order_id.id}}">

                                                <tr class="tm-checkout-subtotal">
                                                    <td>Cart Subtotal</td>
                                                    <td>&#x20b9;{{total}}</td>
                                                </tr>
                                                <tr class="tm-checkout-shipping">
                                                    <td>(+) Shipping Charge</td>
                                                    <td>Free</td>
                                                </tr>
                                                <tr class="tm-checkout-total">
                                                    <td>Total</td>
                                                    <td>&#x20b9;{{grand_total}}</td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                    <div class="tm-checkout-submit">
                                        <p>Your personal data will be used to process your order, support your
                                            experience throughout this website, and for other purposes described in our
                                            privacy policy.</p>
                                        <div class="tm-form-inner">
                                            <div class="tm-form-field">
                                                <input type="checkbox" name="checkout-read-terms"
                                                    id="checkout-read-terms">
                                                <label for="checkout-read-terms">I have read and agree to the website
                                                    terms and conditions</label>
                                            </div>
                                            <div class="tm-form-field">
                                                <button type="submit" class="tm-button ml-auto">COD (Cash On Delivery)</button>
                                            </div>
                                            <div class="tm-form-field">
                                                <button type="button" name="razorpay" class="tm-button ml-auto razorpay">Razorpay</button>
                                            </div>
                                        </div>
                                    </div>

                                    {% comment %} <div class="tm-checkout-payment">
                                        <h4>Select Payment Method</h4>
                                        <div class="tm-form-inner">
                                            <div class="tm-form-field">
                                                <input type="radio" name="checkout-payment-method"
                                                    id="checkout-payment-banktransfer">
                                                <label for="checkout-payment-banktransfer">Direct Bank Transfer</label>
                                                <div class="tm-checkout-payment-content">
                                                    <p>Make your payment directly into our bank account.</p>
                                                </div>
                                            </div>
                                            <div class="tm-form-field">
                                                <input type="radio" name="checkout-payment-method"
                                                    id="checkout-payment-checkpayment" checked="checked">
                                                <label for="checkout-payment-checkpayment">Check Payments</label>
                                                <div class="tm-checkout-payment-content">
                                                    <p>Please send a check to Store Name, Store Street, Store Town,
                                                        Store State / County, Store Postcode.</p>
                                                </div>
                                            </div>
                                            <div class="tm-form-field">
                                                <input type="radio" name="checkout-payment-method"
                                                    id="checkout-payment-cashondelivery">
                                                <label for="checkout-payment-cashondelivery">Cash On Delivery</label>
                                                <div class="tm-checkout-payment-content">
                                                    <p>Pay with cash upon delivery.</p>
                                                </div>
                                            </div>
                                            <div class="tm-form-field">
                                                <input type="radio" name="checkout-payment-method"
                                                    id="checkout-payment-paypal">
                                                <label for="checkout-payment-paypal">PayPal</label>
                                                <div class="tm-checkout-payment-content">
                                                    <p>Pay via PayPal.</p>
                                                </div>
                                            </div>
                                            <div class="tm-form-field">
                                                <input type="radio" name="checkout-payment-method"
                                                    id="checkout-payment-creditcard">
                                                <label for="checkout-payment-creditcard">Credit Card</label>
                                                <div class="tm-checkout-payment-content">
                                                    <p>Pay with your credit card via Stripe.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div> {% endcomment %}
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!--// Checkout Area -->

        </main>
        <!--// Page Content -->

    {% else %}
    <main class="page-content">
        <div class="nothing">
            <p>Opps! Nothing to show.</p>
            <p>Add some Items to</p> 
            <a href="{% url 'cart' %}">Cart</a>
        </div>
    </main>
    {% endif %}

{% endblock body %}

{% block script %}
<script src="{% static 'js/pay.js' %}"></script>
{% endblock script %}