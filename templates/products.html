{% extends "base.html" %} 
{% load static %}

{% block title %} Lepos London | Products {% endblock title %}

{% block body %}

<!-- Breadcrumb Area -->
<div class="tm-breadcrumb-area tm-padding-section bg-grey" data-bgimage={% static 'images/breadcrumb-bg.jpg' %}>
    <div class="container">
        <div class="tm-breadcrumb">
            <h2>Products</h2>
            <ul>
                <li><a href="{% url 'index' %}">Home</a></li>
                <li>Shop</li>
            </ul>
        </div>
    </div>
</div>
<!--// Breadcrumb Area -->


<!-- Page Content -->
<main class="page-content">

    <!-- Products Wrapper -->
    <div class="tm-products-area tm-section tm-padding-section bg-white">
        <div class="container">
            <div class="row">

                <div class="col-lg-9 col-12">
                    <form action="#" class="tm-shop-header">
                        <div class="tm-shop-productview">
                            <span>View:</span>
                            <button data-view="grid" class="active"><i class="ion-android-apps"></i></button>
                            <button data-view="list"><i class="ion-android-menu"></i></button>
                        </div>
                        <p class="tm-shop-countview">Showing 1 to 9 of 16 </p>
                        <select>
                            <option value="value">Default Sorting</option>
                            <option value="value">Name A-Z</option>
                            <option value="value">Date</option>
                            <option value="value">Best Sellers</option>
                            <option value="value">Trending</option>
                        </select>
                    </form>

                    {% if category %}
                        <h3 class="selected_category">Category : {{category}}</h3>
                        {{category.description}}
                    {% endif %}

                    <div class="tm-shop-products">
                        <div class="row mt-30-reverse">
                            {% for row in products %}

                            <!-- Single Product -->
                            <div class="col-xl-4 col-lg-6 col-md-6 col-sm-6 col-12 mt-50">
                                <div class="tm-product tm-scrollanim">
                                    <div class="tm-product-topside">
                                        <div class="tm-product-images">
                                            <a href="/product/{{row.pk}}"><img src=/media/{{row.image}} alt="product image"></a>
                                        </div>
                                        <ul class="tm-product-actions">
                                            {% comment %} <li><form action="{% url 'add_cart' row.pk %}" method="post">{% csrf_token %}
                                                <button type="submot"><i class="ion-android-cart"></i> Add to cart</button>
                                            </form></li>
                                            <li><a href="/product/{{row.pk}}"><i class="ion-eye"></i></button></a></li> {% endcomment %}
                                            <li><button type="button" onclick="myFunction(this.id)" id="{{row.pk}}"><i class="ion-heart"></i></button></li>
                                        </ul>
                                        <div class="tm-product-badges">
                                            <span class="tm-product-badges-new">New</span>
                                            <span class="tm-product-badges-soldout">Sold out</span>
                                        </div>
                                    </div>
                                    <div class="tm-product-bottomside">
                                        <h6 class="tm-product-title"><a href="/product/{{row.id}}">{{row.name}}</a></h6>
                                        <div class="tm-ratingbox">
                                            <span class="is-active"><i
                                                    class="ion-android-star-outline"></i></span>
                                            <span class="is-active"><i
                                                    class="ion-android-star-outline"></i></span>
                                            <span class="is-active"><i
                                                    class="ion-android-star-outline"></i></span>
                                            <span class="is-active"><i
                                                    class="ion-android-star-outline"></i></span>
                                            <span><i class="ion-android-star-outline"></i></span>
                                        </div>
                                        <span class="tm-product-price">&#x20b9;{{row.price}}</span>
                                        {% comment %} <div class="tm-product-content">
                                            <p>{{row.description}}</p>
                                            <ul class="tm-product-actions">
                                                <li><a href="#"><i class="ion-android-cart"></i> Add to cart</a></li>
                                                <li><button data-fancybox data-src="#tm-product-quickview"><i
                                                            class="ion-eye"></i></button></li>
                                                <li><button type="button" onclick="myFunction(this.id)" id="{{row.pk}}"><i class="ion-heart"></i></button></li>
                                            </ul>
                                        </div> {% endcomment %}
                                    </div>
                                </div>
                            </div>
                            {% endfor %}

                        </div>
                    </div>

                    <!--Pagination-->
                    {% comment %} <div class="">
                        <nav aria-label="Page navigation example"> {% endcomment %}
                    <div class="tm-pagination mt-50">
                        <ul class="pagination">
                            {% if products.has_previous %}
                                <li class="page-item">
                                    <a class="page-link" href="
                                    {% if 'show' in request.GET %}?page={{ products.previous_page_number }}&show={{request.GET.show}}  {% else %} ?page={{ products.previous_page_number }} {% endif %}
                                    ">Previous</a>
                                </li>
                            {% else %}
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="True">Previous</a>
                                </li>
                            {% endif %}
        
                            {% if products.number|add:'-2' > 1 %}
                                <li class="page-item">
                                    <a class="page-link" href="
                                    {% if 'show' in request.GET %} ?page={{ products.number|add:'-3' }}&show={{request.GET.show}}  {% else %}  ?page={{ products.number|add:'-3' }} {% endif %}
                                    ">&hellip;</a>
                                </li>
                            {% endif %}
        
                            {% for i in products.paginator.page_range %}
                                {% if products.number == i %}
                                    <li class="page-item" aria-current="page">
                                        <span class="page-link selected">
                                            {{ i }}
                                            <span class="sr-only">
                                                (current)
                                            </span>
                                        </span>
                                    </li>
                                {% elif i > products.number|add:'-3' and i < products.number|add:'3' %}
                                    <li class="page-item">
                                        <a class="page-link" href="
                                        {% if 'show' in request.GET %}?page={{ i }}&show={{request.GET.show}}  {% else %} ?page={{ i }} {% endif %}
                                        ">{{ i }}</a>
                                    </li>
                                {% endif %}
                            {% endfor %}
        
                            {% if products.paginator.num_pages > products.number|add:'3' %}
                                <li class="page-item">
                                    <a class="page-link" href="
                                    {% if 'show' in request.GET %} ?page={{ products.number|add:'3' }}&show={{request.GET.show}}  {% else %}  ?page={{ products.number|add:'3' }} {% endif %}
                                    
                                ">&hellip;</a>
                                </li>
                            {% endif %}
        
                            {% if products.has_next %}
                                <li class="page-item">
                                    <a class="page-link" href="
                                    {% if 'show' in request.GET %}?page={{ products.next_page_number }}&show={{request.GET.show}}  {% else %} ?page={{ products.next_page_number }} {% endif %}
                                    ">Next</a>
                                </li>
                            {% else %}
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="True">Next</a>
                                </li>
                            {% endif %}
                        </ul>
                        {% comment %} </nav> {% endcomment %}
                    </div>
                    <!--end of Pagination-->
                </div>

                <!-- Widgets -->
                <div class="col-lg-3 col-12">
                    <div class="widgets">

                        <!-- Single Widget -->
                        <div class="single-widget widget-categories">
                            <h6 class="widget-title">Categories</h6>
                            <ul>
                            {% for row in categories %}
                                <li><a href="{% url 'products' %}?category={{row}}">{{row}}</a></li>
                            {% endfor %}
                            </ul>
                        </div>
                        <!--// Single Widget -->

                        <!-- Single Widget -->
                        <div class="single-widget widget-pricefilter">
                            <h6 class="widget-title">Filter by Price</h6>
                            <div class="widget-pricefilter-inner">
                                <div class="tm-rangeslider" data-range_min="0" data-range_max="800" data-cur_min="200" data-cur_max="550">
                                    <div class="tm-rangeslider-bar nst-animating"></div>
                                    <span class="tm-rangeslider-leftgrip nst-animating" tabindex="0"></span>
                                    <span class="tm-rangeslider-rightgrip nst-animating" tabindex="0"></span>
                                </div>
                                <div class="widget-pricefilter-actions">
                                    <p class="widget-pricefilter-price">Price: $<span class="tm-rangeslider-leftlabel">308</span> - $<span class="tm-rangeslider-rightlabel">798</span></p>
                                    <button class="widget-pricefilter-button">Filter</button>
                                </div>
                            </div>
                        </div>
                        <!--// Single Widget -->

                        <!-- Single Widget -->
                        <div class="single-widget widget-popularproduct">
                            <h6 class="widget-title">Popular Product</h6>
                            <ul>
                                <li>
                                    <a href="product-details.html" class="widget-popularproduct-image">
                                        <img src={% static 'images/products/product-image-1-thumb.jpg' %} alt="product thumbnail">
                                    </a>
                                    <div class="widget-popularproduct-content">
                                        <h6><a href="product-details.html">Brown liquid inside</a></h6>
                                        <span>$20.00</span>
                                    </div>
                                </li>
                                <li>
                                    <a href="product-details.html" class="widget-popularproduct-image">
                                        <img src={% static 'images/products/product-image-2-thumb.jpg' %} alt="product thumbnail">
                                    </a>
                                    <div class="widget-popularproduct-content">
                                        <h6><a href="product-details.html">Top of amber bottle</a></h6>
                                        <span>$35.99</span>
                                    </div>
                                </li>
                                <li>
                                    <a href="product-details.html" class="widget-popularproduct-image">
                                        <img src={% static 'images/products/product-image-3-thumb.jpg' %} alt="product thumbnail">
                                    </a>
                                    <div class="widget-popularproduct-content">
                                        <h6><a href="product-details.html">Mario badescu bottle</a></h6>
                                        <span>$99.99</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!--// Single Widget -->

                        <!-- Single Widget -->
                        <div class="single-widget widget-sizes">
                            <h6 class="widget-title">Sizes</h6>
                            <ul>
                                <li><a href="products.html">Small Size</a></li>
                                <li><a href="products.html">Medium Size</a></li>
                                <li><a href="products.html">Large Size</a></li>
                                <li><a href="products.html">Extra Large Size</a></li>
                            </ul>
                        </div>
                        <!--// Single Widget -->

                    </div>
                </div>
                <!--// Widgets -->

            </div>
        </div>
    </div>
    <!--// Products Wrapper -->

</main>
<!--// Page Content -->
{% block script %}
<script src="{% static 'js/wishlist.js' %}"></script>
{% endblock script %}

{% endblock body %}
